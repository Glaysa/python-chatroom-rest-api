{% extends "base.html" %}
{% block title %}Home Page{% endblock %}
{% block page %}
    <div class="btn btn-primary w-25">
        <a href="registr" style="text-decoration: none; color: whitesmoke;">Register</a>
    </div>
    <div class="btn btn-primary w-25">
        <a href="login" style="text-decoration: none; color: whitesmoke;">Register</a>
    </div>
    <div class="container-md mt-5">
        <div class="row">
            <div class="col-md-4">
                <h2 class="fw-bold">Enter a chatroom:</h2>
                <!--{% for room in chatrooms %}
                <div class="btn btn-primary w-25" id="openRoomBtn">
                    <a href="home" style="text-decoration: none; color: whitesmoke;">{{ room.name }}</a>
                </div>
            {% endfor %}-->
                <!--temporary divs the code above will be used once it is ready.-->
                <div class="mt-3" style="background: coral; width: 100px; height: 40px;"></div>
                <div class="mt-3" style="background: coral; width: 100px; height: 40px;"></div>
                <div class="mt-3" style="background: coral; width: 100px; height: 40px;"></div>
            </div>
            <form action="" method="POST" class="col-md-5">
                <label for="name" class="fw-bolder form-label">Name:</label>
                <input type="text" id="name" class="form-control">
                <input type="submit" id="createRoom" class="btn btn-primary mt-3" value="Create Room">
            </form>
        </div>
    </div>
{% endblock %}

{% block script%}
<script>
    //posting the room to the server:
    $("form").on('submit',function (event){
            event.preventDefault();
            let name = $("#name");
            const room = {
                username : name.val()
            }
            $.post('/api/rooms',room, ()=> console.log(room));
            name.val("");
        })


    // opening the clicked room: (Calls a getRoom from server and finding it using room_id)

</script>
{% endblock %}